# Copyright 2016, IBM Corp.
#
# All Rights Reserved
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.


# This configuration file is used for the in-tree nova driver for powervm.
# These are configuration variables for executing os_ci_tempest.sh
# Not to be confused with tempest.conf, which is copied into the tempest
# installation for execution of tempest itself.

## TEST LIST FILE FORMAT (used for $BLACK_LIST and $WHITE_LIST below):
# A test list file should comprise a list of idempotent test UUIDs, one
# per line.
# Blank lines are ignored.
# Lines beginning with "#" are ignored.
# Inline comments are permitted, beginning with "#".
# Example of a valid line (except the leading "#   "):
#   bb5fcead-09b5-484a-bbe6-46d1e06d6cc0 # neutron.tests.tempest.api.test_trunk.TrunkTestJSON.test_add_subport
# Here's a handy sed expression to convert a testr list-tests output line
# to the above format:
#   sed  's/\([^[]*\).*id-\([[:xdigit:]-]*\).*/\2 # \1/'

# Baseline tempest test suite.  Set to '.*' to include all tests.  You
# can dump this list via:
#   cd $TEMPEST_DIR
#   testr list-tests "$BASE_TEST_REGEX"
# These tests will be reduced based on those listed in $WHITE_LIST and
# $BLACK_LIST, as follows:
# - First, the test list is generated based on $BASE_TEST_REGEX.  Tests
# *not* matching the regex will never be run.
# - Second, the list is filtered to *exclude* tests listed in
# $BLACK_LIST.  Tests *included* in $BLACK_LIST will never be run.
# - Finally, the list is filtered to *include* only tests listed in
# $WHITE_LIST, if it exists.  Tests *not* included in $WHITE_LIST will
# never be run.
#BASE_TEST_REGEX='.*'

# Absolute path to a list of tests to execute, one per line.  See the
# explanation for $BASE_TEST_REGEX for a description of how this is
# used.  See TEST LIST FILE FORMAT comment for a description of the
# expected file format.  The default is unset.  (Note: If set to an
# empty/invalid file, no tests will be run!)  (Note: If you're using a
# WHITE_LIST, you probably want the default/unset BASE_TEST_REGEX.)
#WHITE_LIST=
WHITE_LIST=/opt/stack/powervm-ci/tempest/in_tree_whitelist.txt

# Absolute path to a list of tests to skip, one per line.  See the
# explanation for $BASE_TEST_REGEX for a description of how this is
# used.  See TEST LIST FILE FORMAT comment for a description of the
# expected file format. The default value is unset.
#BLACK_LIST=

# Absolute path of the directory in which to store reports from the tempest
# run.  May be overridden by specifying  -o /path/to/reports
#OUTPATH=/opt/stack/logs

# Absolute path to the tempest.conf file to use.  The default value is the
# path of the tempest.conf generated by devstack while stacking.
#TEMPEST_CONF=/opt/stack/tempest/etc/tempest.conf

# Verbose mode (reports e.g. which tests will be run/skipped).  Empty
# means "off".  Nonempty means "on".
#VERBOSE=

# Debug mode (turns on trace).  Empty means "off".  Nonempty means "on".
#DEBUG=

# Location of the tempest repository
#TEMPEST_DIR=/opt/stack/tempest

# Location of openrc
#OPENRC=/opt/stack/devstack/openrc

# Path to VM image to be uploaded to glance
#IMGFILE=

# Flavor memory size (integer MB)
#FLVMEM=512

# Flavor vcpu count (integer)
#FLVCPU=1

# The default test timeout of 500 is not long enough for some long running tests
# This increases the timeout to 1000. This may need to be further modified.
OS_TEST_TIMEOUT=1000
