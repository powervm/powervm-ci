[[local|localrc]]
LOGFILE=/opt/stack/logs/stack.sh.log
SCREEN_LOGDIR=~/screen_log/
LOGDAYS=1
LOG_COLOR=True

ADMIN_PASSWORD=admin
MYSQL_PASSWORD=mysql
RABBIT_PASSWORD=rabbit
SERVICE_PASSWORD=admin
SERVICE_TOKEN=service

MULTI_HOST=0
HOST_NAME=$(hostname)

# Spawn using config drive
FORCE_CONFIG_DRIVE=True

# Networking Configuration
FIXED_RANGE=192.168.2.0/24
NETWORK_GATEWAY=192.168.2.254
FLAT_INTERFACE=ibmveth3
Q_PLUGIN=ml2
Q_ML2_TENANT_NETWORK_TYPE=vlan
Q_ML2_PLUGIN_TYPE_DRIVERS=vlan
Q_USE_PROVIDERNET_FOR_PUBLIC=False
ENABLE_TENANT_VLANS=True
PHYSICAL_NETWORK=default
TENANT_VLAN_RANGE=1000:2000
Q_AGENT=pvm_sea
NEUTRON_AGENT=pvm_sea
Q_ML2_PLUGIN_MECHANISM_DRIVERS=pvm_sea
ML2_L3_PLUGIN=
Q_USE_PROVIDER_NETWORKING=False
NEUTRON_CREATE_INITIAL_NETWORKS=False
NEUTRON_CORE_PLUGIN=ml2
Q_PLUGIN_CONF_FILE=etc/neutron/plugins/ml2/ml2_conf.ini
IPV6_SUBNET_ATTRIBUTES_ENABLED=False
IPV6_ENABLED=False

# Tempest Configuration
BUILD_TIMEOUT=1200
TEMPEST_RUN_VALIDATION=False
ENABLE_IDENTITY_V2=False
NEUTRON_PORT_SECURITY=False
KEYSTONE_SECURITY_COMPLIANCE_ENABLED=False
DEFAULT_INSTANCE_USER=openstack
SCENARIO_IMAGE_DIR=/home/jenkins/vm_images/
DEFAULT_IMAGE_FILE_NAME=base_os.img
TEMPEST_VOLUME_MANAGE_SNAPSHOT=False
TEMPEST_VOLUME_MANAGE_VOLUME=False
DISABLE_NETWORK_API_EXTENSIONS=dhcp_agent_scheduler

# Disable the Cirros image and use our image.  This image was included on
# the file system as part of the prepare_node_powervm script.
DOWNLOAD_DEFAULT_IMAGES=False
IMAGE_URLS="file:///home/jenkins/vm_images/base_os.img"

# Enable plugins
enable_plugin nova https://git.openstack.org/openstack/nova.git
enable_plugin networking-powervm https://git.openstack.org/openstack/networking-powervm.git
enable_plugin neutron git://git.openstack.org/openstack/neutron
enable_plugin neutron-tempest-plugin https://git.openstack.org/openstack/neutron-tempest-plugin

# Enable Services
enable_service n-novnc neutron neutron-api pvm-q-sea-agt
disable_service n-net cinder ceilometer-compute ceilometer-aipmi neutron-metering neutron-l3 neutron-dhcp neutron-agent

[[post-config|$NOVA_CONF]]
[DEFAULT]
debug=False
default_log_levels=pypowervm=DEBUG,nova=DEBUG,iamqplib=WARN,sqlalchemy=WARN,boto=WARN,suds=INFO,keystone=INFO,eventlet.wsgi.server=WARN
compute_driver=powervm.driver.PowerVMDriver

[powervm]
disk_driver=ssp

[[post-config|$NEUTRON_CONF]]
[DEFAULT]
debug=False
verbose=False
default_log_levels=pypowervm=DEBUG,nova=DEBUG,iamqplib=WARN,sqlalchemy=WARN,boto=WARN,suds=INFO,keystone=INFO,eventlet.wsgi.server=WARN

[[post-config|$KEYSTONE_CONF]]
[DEFAULT]
debug=False

[[post-config|/$Q_PLUGIN_CONF_FILE]]
[ml2_type_vlan]
network_vlan_ranges=default:1:4094

[ml2]
tenant_network_types=vlan

[[test-config|$TEMPEST_CONFIG]]
[DEFAULT]
log_dir=/opt/stack/logs/

[compute-feature-enabled]
pause=False
shelve=False
suspend=False
console_output=False
vnc_console=False
snapshot=False
resize=False

[validation]
security_group=False
security_group_rules=False
image_ssh_password=openstack

[compute]
fixed_network_name=private

[network-feature-enabled]
floating_ips=False

[network]
shared_physical_network=True
